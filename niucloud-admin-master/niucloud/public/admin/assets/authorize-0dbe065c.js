import{d as T,r as n,l as z,k as r,N as S,h as f,c as P,J as G,m as y,w as s,a as e,t as _,e as o,i as m,u as v,B as J,O,P as Q,Q as K,E as W,R as X,D as Y,G as Z,L as ee,H as te,S as se,M as oe,p as ae,g as le,_ as ne}from"./index-9f163f98.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                  *//* empty css                   *//* empty css                  */import{g as re,s as ce}from"./module-29351851.js";const ie=""+new URL("authorize-2f3431d6.png",import.meta.url).href,x=g=>(ae("data-v-12026de5"),g=g(),le(),g),de={class:"main-container"},pe={key:0},ue=x(()=>e("div",{class:"title text-[16px] font-bold text-[#1D1F3A] mb-[30px]"},"授权信息",-1)),_e={class:"flex items-center"},me=x(()=>e("div",{class:"w-[92px] h-[92px] rounded-[10px] flex justify-center items-center mr-[20px]"},[e("img",{src:ie,class:"w-[92px] h-[92px]"})],-1)),xe={class:"flex flex-col justify-between font-500"},he={class:"flex flex-wrap items-center mb-[12px]"},fe=x(()=>e("span",{class:"mr-[6px] text-[14px] text-[#666666] w-[70px] text-left"},"授权公司：",-1)),ve={class:"text-[14px] text-[#333]"},ge={class:"flex flex-wrap items-center mb-[12px]"},we=x(()=>e("span",{class:"mr-[6px] text-[14px] text-[#666666] w-[70px] text-left"},"授权域名：",-1)),ye={class:"text-[14px] text-[#333]"},ke={class:"flex flex-wrap items-center"},Ce=x(()=>e("span",{class:"mr-[6px] text-[14px] text-[#666666] w-[70px] text-left"},"授权码：",-1)),Ve={class:"text-[14px] text-[#333]"},be={class:"mr-[10px]"},Ie={class:"mt-[17px] ml-[110px]"},Ae={class:"px-[18px] py-[8px]"},De=x(()=>e("p",{class:"leading-[32px] text-[14px]"},"您在官方应用市场购买任意一款应用，即可获得授权码。输入正确授权码认证通过后，即可支持在线升级和其它相关服务",-1)),Ee={class:"flex justify-end mt-[36px]"},Be={class:"mt-[20px]"},ze={class:"text-sm mt-[10px] text-info"},Se={class:"mt-[20px]"},Pe={class:"mt-[10px] text-right"},Ne=T({__name:"authorize",setup(g){const k=n(null),c=n(!1),i=n(!1),N=a=>{const t=O(a);return t.slice(0,t.length/2)+t.slice(t.length/2,t.length-1).replace(/./g,"*")},R=()=>{c.value=!0},d=n({company_name:"",site_address:"",auth_code:""}),w=n(!0),h=n(!1),C=()=>{re().then(a=>{w.value=!1,a.data.data&&a.data.data.length!=0&&(d.value=a.data.data,c.value=!1)}).catch(()=>{w.value=!1,c.value=!1})};C();const p=z({auth_code:"",auth_secret:""}),V=n(),F=z({auth_code:[{required:!0,message:r("authCodePlaceholder"),trigger:"blur"}],auth_secret:[{required:!0,message:r("authSecretPlaceholder"),trigger:"blur"}]}),H=async a=>{h.value||!a||await a.validate(async t=>{t&&(h.value=!0,ce(p).then(()=>{h.value=!1,C()}).catch(()=>{h.value=!1,c.value=!1}))})},b=()=>{window.open("https://www.niucloud.com/app")},L=n("");return(()=>{Q().then(a=>{L.value=a.data.version.version})})(),(a,t)=>{const I=S("View"),A=K,M=S("Hide"),u=W,U=X,D=Y,E=Z,B=ee,$=te,j=se,q=oe;return f(),P("div",de,[G((f(),y(B,{class:"box-card !border-none min-h-[300px]",shadow:"never"},{default:s(()=>[w.value?J("",!0):(f(),P("div",pe,[ue,e("div",null,[e("div",_e,[me,e("div",xe,[e("div",he,[fe,e("span",ve,_(d.value.company_name||"--"),1)]),e("div",ge,[we,e("span",ye,_(d.value.site_address||"--"),1)]),e("div",ke,[Ce,e("span",Ve,[e("span",be,_(d.value.auth_code?i.value?d.value.auth_code:N(d.value.auth_code):"--"),1),i.value?(f(),y(A,{key:1,onClick:t[1]||(t[1]=l=>i.value=!i.value),class:"text-[14px] cursor-pointer text-[#9699B6]"},{default:s(()=>[o(M)]),_:1})):(f(),y(A,{key:0,onClick:t[0]||(t[0]=l=>i.value=!i.value),class:"text-[14px] cursor-pointer text-[#9699B6]"},{default:s(()=>[o(I)]),_:1}))])])])]),e("div",Ie,[o(u,{class:"!w-[140px] !h-[32px] mt-[8px] !rounded-[4px]",type:"primary",onClick:R},{default:s(()=>[m("授权码认证")]),_:1}),o(U,{ref_key:"getAuthCodeDialog",ref:k,placement:"bottom-start",width:478,trigger:"click",class:"mt-[8px]"},{reference:s(()=>[o(u,{class:"!w-[140px] !h-[32px] mt-[8px] !rounded-[4px] !text-[var(--el-color-primary)] hover:!text-[var(--el-color-primary)] !bg-transparent",plain:"",type:"primary"},{default:s(()=>[m("如何获取授权码?")]),_:1})]),default:s(()=>[e("div",Ae,[De,e("div",Ee,[o(u,{class:"w-[182px] !h-[48px]",plain:"",onClick:b},{default:s(()=>[m("去应用市场逛逛")]),_:1}),o(u,{class:"w-[100px] !h-[48px]",plain:"",onClick:t[2]||(t[2]=l=>k.value.hide())},{default:s(()=>[m("关闭")]),_:1})])])]),_:1},512)]),o(j,{modelValue:c.value,"onUpdate:modelValue":t[6]||(t[6]=l=>c.value=l),title:"授权码认证",width:"400px"},{default:s(()=>[o($,{model:p,"label-width":"0",ref_key:"formRef",ref:V,rules:F,class:"page-form"},{default:s(()=>[o(B,{class:"box-card !border-none",shadow:"never"},{default:s(()=>[o(E,{prop:"auth_code"},{default:s(()=>[o(D,{modelValue:p.auth_code,"onUpdate:modelValue":t[3]||(t[3]=l=>p.auth_code=l),modelModifiers:{trim:!0},placeholder:v(r)("authCodePlaceholder"),class:"input-width",clearable:"",size:"large"},null,8,["modelValue","placeholder"])]),_:1}),e("div",Be,[o(E,{prop:"auth_secret"},{default:s(()=>[o(D,{modelValue:p.auth_secret,"onUpdate:modelValue":t[4]||(t[4]=l=>p.auth_secret=l),modelModifiers:{trim:!0},clearable:"",placeholder:v(r)("authSecretPlaceholder"),class:"input-width",size:"large"},null,8,["modelValue","placeholder"])]),_:1})]),e("div",ze,_(v(r)("authInfoTips")),1),e("div",Se,[o(u,{type:"primary",class:"w-full",size:"large",loading:h.value,onClick:t[5]||(t[5]=l=>H(V.value))},{default:s(()=>[m(_(v(r)("confirm")),1)]),_:1},8,["loading"])]),e("div",Pe,[o(u,{type:"primary",link:"",onClick:b},{default:s(()=>[m(_(v(r)("notHaveAuth")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])]))]),_:1})),[[q,w.value]])])}}});const Qe=ne(Ne,[["__scopeId","data-v-12026de5"]]);export{Qe as default};
