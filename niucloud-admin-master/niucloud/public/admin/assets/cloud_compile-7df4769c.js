import{d as $,r as x,ax as z,al as I,Y as i,k as d,J as L,h as M,c as R,a as t,e as p,w as o,i as f,bK as F,a4 as H,E as J,a0 as K,a1 as O,aA as Y,D as q,M as G,p as P,g as Q,_ as W}from"./index-9f163f98.js";/* empty css                   *//* empty css                 *//* empty css                  *//* empty css                         *//* empty css                  */import X from"./index-8ef97a8d.js";import Z from"./index-a8b2df8a.js";import{k as tt,s as et,l as st}from"./upgrade-e1e2708e.js";import{T as E}from"./test-71dfb9c1.js";/* empty css                       *//* empty css                   *//* empty css                  *//* empty css                  *//* empty css                    *//* empty css                     *//* empty css               *//* empty css                *//* empty css                 */import"./dark-d503b80a.js";import"./module-29351851.js";const e=r=>(P("data-v-eda7292b"),r=r(),Q(),r),at={class:"main-container w-full"},pt={class:"p-5 bg-[#fff] overflow-hidden"},lt={class:"bg-[#fff] w-[100%] overflow-hidden"},nt={class:"flex items-center justify-between mb-[20px]"},it=e(()=>t("div",{class:"text-[#1D1F3A] text-[16px] font-bold ml-[4px]"},"云编译",-1)),ot={class:"flex ml-[20px]"},xt=e(()=>t("div",{class:"btn-time w-[181px] h-[36px] rounded-[4px] text-[#9699B6] text-[12px] ml-[10px]"},[t("span",null,"云编译执行时间大约"),t("span",{class:"text-[14px] text-[#DA203E] mx-[3px]"},"5"),t("span",null,"分钟")],-1)),dt=F('<div class="panel-title bg-[#F4F5F7] border-[#E6E6E6] border-solid border-b-[1px] h-[40px] flex items-center p-[10px]" data-v-eda7292b><span class="text-[16px] font-500 text-[#1D1F3A]" data-v-eda7292b>云编译</span><span class="text-[12px] text-[#9699B6] ml-[10px]" data-v-eda7292b>云编译不需要本地安装node环境即可进行，针对使用者方便快捷</span></div><div class="mt-[20px] flex mb-[14px] items-center" data-v-eda7292b><span class="flex ml-[20px] font-500 text-[16px] items-center text-[#1D1F3A]" data-v-eda7292b> 温馨提示 </span><span class="text-[12px] text-[#9699B6] ml-[10px]" data-v-eda7292b> 以下情况可以进行云编译</span></div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-eda7292b>1、系统或插件，每次安装或升级完成后，需要云编译</div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-eda7292b>2、开发者编写完前端代码之后，可以使用云编译进行源码编译</div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-eda7292b>3、由于云编译不是针对某个插件进行编译，而是系统整体编译，因此如果同时需要安装多个插件时，往往需要安装到最后一个插件才整体进行云编译</div><div class="mt-[21px] flex mb-[21px] text-[16px] text-[#1D1F3A] font-500 items-center" data-v-eda7292b><span class="flex ml-[20px] items-center" data-v-eda7292b> 云编译流程 </span></div>',6),ct={class:"ml-[40px]"},rt=e(()=>t("div",{class:"text-[16px] text-[#1D1F3A]"},"编译admin代码",-1)),mt=e(()=>t("div",{class:"p-[10px] bg-[#F9F9FB] mt-[10px] text-[#4F516D] text-[14px] w-[1085px] border-[#F1F1F8] border-solid border-[1px] h-[40px] flex items-center rounded-[4px]"},[t("span",null,"云编译会将admin端的vue代码编译为对应的html文件，同时将生成的代码下载到系统 niucloud 下的"),t("span",{class:"text-[#F09000] mx-[3px] font-bold"},"public/admin"),t("span",null,"目录中。后台的访问路径将变为"),t("span",{class:"text-primary ml-[3px] font-500"},"https://域名/admin")],-1)),ut=e(()=>t("div",{class:"text-[16px] text-[#1D1F3A]"},"编译uniapp代码",-1)),vt=e(()=>t("div",{class:"p-[10px] bg-[#F9F9FB] mt-[10px] text-[#4F516D] text-[14px] w-[1085px] border-[#F1F1F8] border-solid border-[1px] h-[40px] flex items-center rounded-[4px]"},[t("span",null,"云编泽会将uniapp端的vue代码编译为对应的html文件，同时将生成的代码下载到系统 niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px] font-bold"},"public/wap"),t("span",null,"目录中，这样手机端网页的访问路径将变为"),t("span",{class:"text-primary ml-[3px] font-500"}," https://域名/wap")],-1)),bt=e(()=>t("div",{class:"text-[16px] text-[#1D1F3A]"},"编译web代码",-1)),_t=e(()=>t("div",{class:"p-[10px] bg-[#F9F9FB] mt-[10px] text-[#4F516D] text-[14px] w-[1085px] border-[#F1F1F8] border-solid border-[1px] h-[40px] flex items-center rounded-[4px]"},[t("span",null,"云编泽会将web端的vue代码编译为对应的html文件，同时将生成的代码下载到系统 niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px] font-bold"},"public/web"),t("span",null,"目录中，这样电脑端网页的访问路径将变为"),t("span",{class:"text-primary ml-[3px] font-500"}," https://域名/web")],-1)),ft={class:"mt-[10px]"},Ft={class:"panel-title bg-[#F4F5F7] border-[#E6E6E6] border-solid border-b-[1px] h-[40px] flex items-center p-[10px]"},ht=e(()=>t("span",{class:"text-[16px] font-500 text-[#1D1F3A]"},"第三方云编译",-1)),wt=e(()=>t("span",{class:"ml-[10px] text-[#9699B6] text-[12px]"},"自己搭建第三方云编译服务器，无需等待",-1)),gt={class:"mt-[20px] flex mb-[14px] text-[16px] items-center text-[#1D1F3A]"},yt=e(()=>t("span",{class:"flex ml-[20px] items-center"}," 温馨提示 ",-1)),Dt=e(()=>t("span",{class:"text-[12px] text-[#9699B6] ml-[10px]"},"运行环境要求：需预先配置 Nodejs 环境",-1)),Bt={class:"ml-[40px] text-[14px] text-[#4F516D] mb-[18px]"},At=e(()=>t("span",null,"1、下载第三方云编译服务器搭建程序包",-1)),Et=F('<div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-eda7292b><span data-v-eda7292b>2、请在指定目录（不能包含中文）下执行 npm install 命令安装依赖包</span></div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-eda7292b><span data-v-eda7292b>3、启动编译服务器：执行 node niucloud-compile-server.js 命令</span></div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-eda7292b><span data-v-eda7292b>4、填写服务器地址并成功连通测试后，点击开启即可享受自己搭建的云编译服务器，编译将无需排队等待。</span></div><div class="mt-[20px] flex mb-[14px] text-[16px] items-center text-[#1D1F3A]" data-v-eda7292b><span class="flex ml-[20px] items-center" data-v-eda7292b> 云编译服务器设置 </span></div><div class="mt-[20px] flex mb-[14px] text-[16px] items-center text-[#1D1F3A] ml-[20px]" data-v-eda7292b><span class="flex ml-[20px] items-center" data-v-eda7292b> 服务器地址 </span></div>',5),Ct={class:"flex ml-[40px] mb-[30px] items-center"},kt={class:"mt-[10px]"},Vt=F('<div class="panel-title bg-[#F4F5F7] border-[#E6E6E6] border-solid border-b-[1px] h-[40px] flex items-center p-[10px]" data-v-eda7292b><span class="text-[16px] font-500 text-[#1D1F3A]" data-v-eda7292b>本地编译</span></div><div class="mt-[20px] flex mb-[14px] text-[16px] items-center text-[#1D1F3A]" data-v-eda7292b><span class="flex ml-[20px] items-center" data-v-eda7292b> 温馨提示 </span></div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-eda7292b><span data-v-eda7292b>1、如果本地安装了Node环境，可以进行本地编译，要求</span><span class="text-[#DA203E] ml-[3px] font-500" data-v-eda7292b>Node版本&gt;=18</span></div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-eda7292b>2、默认本地编译流程与云编译相同，执行本地编译命令后，会将编译后的代码移动到系统niucloud下的public下的对应端口目录下</div><div class="ml-[40px] text-[14px] text-[#4F516D] mb-[18px]" data-v-eda7292b>3、由于云编译配置的访问路径是固定的，针对客户有独立部署admin，wap，web等个性化端口名称配置需求，需要进行本地编译</div><div class="mt-[20px] flex mb-[14px] text-[16px] items-center text-[#1D1F3A]" data-v-eda7292b><span class="flex ml-[20px] items-center" data-v-eda7292b> 本地编译命令参考 </span></div>',6),Tt=e(()=>t("div",{class:"ml-[40px] text-[#374151] text-[14px] italic"},[t("span",{class:"text-[16px] italic"},"#安装依赖："),t("span",{class:"italic"},"进入admin端与uniapp端以及web端目录都可执行")],-1)),jt={class:"ml-[40px] w-[1085px] h-[40px] bg-[#F9F9FB] rounded-[4px] mt-[10px] flex items-center justify-between border-[#F1F1F8] border-solid border-[1px] px-[10px]"},St=e(()=>t("span",{class:"text-[14px] text-[#374151]"},"npm install",-1)),Nt={class:"mt-[21px]"},Ut=e(()=>t("div",{class:"ml-[40px] text-[14px] text-[#374151] italic"},[t("span",{class:"text-[16px] italic"},"#后台admin端口打包："),t("span",null,"进入admin目录下执行，执行后编译代码默认移动到系统的niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px]"},"public/admin"),t("span",null,"目录下")],-1)),$t={class:"ml-[40px] w-[1085px] h-[40px] bg-[#F9F9FB] rounded-[4px] mt-[10px] flex items-center justify-between border-[#F1F1F8] border-solid border-[1px] px-[10px]"},zt=e(()=>t("span",{class:"text-[14px] text-[#374151]"},"npm run build",-1)),It={class:"mt-[21px]"},Lt=e(()=>t("div",{class:"ml-[40px] text-[14px] text-[#374151] italic"},[t("span",{class:"text-[16px] italic"},"#使用uniapp打包H5："),t("span",null,"进入uniapp目录下执行，执行后编译代码默认移动到系统niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px]"},"public/wap"),t("span",null,"目录下")],-1)),Mt={class:"ml-[40px] w-[1085px] h-[40px] bg-[#F9F9FB] rounded-[4px] mt-[10px] flex items-center justify-between border-[#F1F1F8] border-solid border-[1px] px-[10px]"},Rt=e(()=>t("span",{class:"text-[14px] text-[#374151]"},"npm run build:h5",-1)),Ht={class:"mt-[21px]"},Jt=e(()=>t("div",{class:"ml-[40px] text-[14px] text-[#374151] italic"},[t("span",{class:"text-[16px] italic"},"#使用uniapp打包微信小程序："),t("span",null,"进入uniapp目录下执行，执行后编译代码默认移动到系统niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px]"},"uni-app/dist/build/mp-weixin"),t("span",null,"目录")],-1)),Kt={class:"ml-[40px] w-[1085px] h-[40px] bg-[#F9F9FB] rounded-[4px] mt-[10px] flex items-center justify-between border-[#F1F1F8] border-solid border-[1px] px-[10px]"},Ot=e(()=>t("span",{class:"text-[14px] text-[#374151]"},"npm run build:mp-weixin",-1)),Yt={class:"mt-[21px]"},qt=e(()=>t("div",{class:"ml-[40px] text-[14px] text-[#374151] italic"},[t("span",{class:"text-[16px] italic"},"#前台web(pc)端打包:："),t("span",null,"进入web目录下执行，执行后编译代码默认移动到系统niucloud下的"),t("span",{class:"text-[#F09000] mx-[3px]"},"public/web"),t("span",null,"目录下")],-1)),Gt={class:"ml-[40px] w-[1085px] h-[40px] bg-[#F9F9FB] rounded-[4px] mt-[10px] flex items-center justify-between border-[#F1F1F8] border-solid border-[1px] px-[10px]"},Pt=e(()=>t("span",{class:"text-[14px] text-[#374151]"},"npm run generate",-1)),Qt=$({__name:"cloud_compile",setup(r){const C=x(!1),h=x(!1),m=x(!1),v=x(null),w=()=>{H.confirm(d("cloudBuildTips"),d("warning"),{confirmButtonText:d("confirm"),cancelButtonText:d("cancel"),type:"warning"}).then(()=>{var a;(a=v.value)==null||a.open()})},{copy:k,isSupported:V,copied:g}=z(),c=a=>{if(!V.value){i({message:d("notSupportCopy"),type:"warning"});return}k(a)};I(g,()=>{g.value&&i({message:d("copySuccess"),type:"success"})});const y=a=>{window.open(a,"_blank")},u=x(0),n=x(""),T=async()=>{if(n.value!=""&&!E.url(n.value)){i({message:"请输入正确的服务器地址，必须以http://或https://开头",type:"warning"});return}m.value=!0,tt({url:n.value}).then(a=>{a.data==!1?i({message:"连通测试失败",type:"error"}):i({message:"连通测试成功",type:"success"}),m.value=!1}).catch(()=>{m.value=!1})},D=async()=>{if(n.value!=""&&!E.url(n.value)){i({message:"请输入正确的服务器地址，必须以http://或https://开头",type:"warning"});return}h.value=!0,et({url:n.value,is_open:u.value}).then(a=>{a.data==1&&(i({message:"保存成功",type:"success"}),B())}).catch(()=>{i({message:"保存失败",type:"error"})}).finally(()=>{h.value=!1})},B=async()=>{st({}).then(a=>{n.value=a.data.baseUri,u.value=a.data.isOpen})};return B(),(a,s)=>{var A;const b=J,_=K,j=O,S=Y,N=q,U=G;return L((M(),R("div",at,[t("div",pt,[t("div",lt,[t("div",nt,[it,t("div",ot,[xt,p(b,{class:"w-[98px] !h-[36px]",type:"primary",onClick:w,loading:(A=v.value)==null?void 0:A.loading},{default:o(()=>[f("云编译")]),_:1},8,["loading"])])]),dt,t("div",ct,[p(j,null,{default:o(()=>[p(_,{hollow:!0},{default:o(()=>[rt,mt]),_:1}),p(_,{hollow:!0},{default:o(()=>[ut,vt]),_:1}),p(_,{hollow:!0},{default:o(()=>[bt,_t]),_:1})]),_:1})])]),t("div",ft,[t("div",Ft,[ht,p(S,{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=l=>u.value=l),"active-value":1,"inactive-value":0,class:"ml-[10px]",onChange:D},null,8,["modelValue"]),wt]),t("div",gt,[yt,Dt,t("span",{class:"text-[14px] text-primary cursor-pointer ml-[10px] border-b-[1px] border-solid border-primary",onClick:s[1]||(s[1]=l=>y("https://doc.niucloud.com/saas.html?keywords=/di-san-fang-yun-bian-yi-pei-zhi"))},"搭建教程")]),t("div",Bt,[At,t("span",{class:"text-primary cursor-pointer",onClick:s[2]||(s[2]=l=>y("https://gitee.com/niucloud-team/niucloud-compile-server"))}," niucloud-compile-server")]),Et,t("div",Ct,[p(N,{clearable:"",placeholder:"请输入服务器地址",class:"!w-[520px]",maxlength:"200",modelValue:n.value,"onUpdate:modelValue":s[3]||(s[3]=l=>n.value=l)},null,8,["modelValue"]),p(b,{type:"primary",class:"ml-[10px]",onClick:D},{default:o(()=>[f("确定")]),_:1}),p(b,{type:"primary",plain:"",class:"ml-[10px]",onClick:T,loading:m.value},{default:o(()=>[f("连通测试")]),_:1},8,["loading"])])]),t("div",kt,[Vt,t("div",null,[Tt,t("div",jt,[St,t("span",{class:"iconfont iconfuzhiV6xx1 !text-[#252B3A] cursor-pointer",onClick:s[4]||(s[4]=l=>c("npm install"))})])]),t("div",Nt,[Ut,t("div",$t,[zt,t("span",{class:"iconfont iconfuzhiV6xx1 !text-[#252B3A] cursor-pointer",onClick:s[5]||(s[5]=l=>c("npm run build"))})])]),t("div",It,[Lt,t("div",Mt,[Rt,t("span",{class:"iconfont iconfuzhiV6xx1 !text-[#252B3A] cursor-pointer",onClick:s[6]||(s[6]=l=>c("npm run build:h5"))})])]),t("div",Ht,[Jt,t("div",Kt,[Ot,t("span",{class:"iconfont iconfuzhiV6xx1 !text-[#252B3A] cursor-pointer",onClick:s[7]||(s[7]=l=>c("npm run build:mp-weixin"))})])]),t("div",Yt,[qt,t("div",Gt,[Pt,t("span",{class:"iconfont iconfuzhiV6xx1 !text-[#252B3A] cursor-pointer",onClick:s[8]||(s[8]=l=>c("npm run build"))})])])])]),p(X,{ref:"upgradeRef",onCloudbuild:w},null,512),p(Z,{ref_key:"cloudBuildRef",ref:v},null,512)])),[[U,C.value]])}}});const fe=W(Qt,[["__scopeId","data-v-eda7292b"]]);export{fe as default};
