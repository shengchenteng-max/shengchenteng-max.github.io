import{d as m,X as _,Y as t,k as s,aQ as g,h as f,m as y,w as l,b as w,e as v,i as h,t as x,u as V,aR as k,E,aV as S}from"./index-9f163f98.js";/* empty css                  *//* empty css                    *//* empty css                  */const $=m({__name:"index",props:{modelValue:{type:String,default:""},api:{type:String,default:"sys/audio"}},emits:["update:modelValue"],setup(n,{emit:r}){const u=n,p=_({get(){return u.modelValue},set(e){r("update:modelValue",e)}}),d={action:`/adminapi//${u.api}`,showFileList:!1,headers:{},accept:"audio/*,.mp3,.wav,.ogg,.m4a,.flac,.aac,.wma",beforeUpload:e=>{const a=["audio/mp3","audio/wav","audio/ogg","audio/m4a","audio/flac","audio/aac","audio/wma","audio/mpeg"],o=[".mp3",".wav",".ogg",".m4a",".flac",".aac",".wma"];return a.includes(e.type)||o.some(c=>e.name.toLowerCase().endsWith(c))?!0:(t({message:s("请上传音频文件"),type:"error"}),!1)},onSuccess:(e,a)=>{if(e.code!=null&&e.code!=1){t({message:e.msg,type:"error"});return}p.value=e.data.url,t({message:s("upload.success"),type:"success"})}};return d.headers.token=g(),(e,a)=>{const o=E,i=S;return f(),y(i,k(d,{class:"upload-file"}),{default:l(()=>[w(e.$slots,"default",{},()=>[v(o,{type:"primary"},{default:l(()=>[h(x(V(s)("上传音频")),1)]),_:1})])]),_:3},16)}}});export{$ as default};
