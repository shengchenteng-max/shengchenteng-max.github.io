import{d as N,r as d,X as D,h as r,m as g,w as o,e as _,J as K,c as x,a,F as U,T as $,t as f,B as w,u as A,k as H,am as q,Z as J,$ as X,a0 as Y,a1 as Z,a2 as j,L as z,S as G,M as O,p as P,g as Q,Y as R,_ as W}from"./index-9f163f98.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                     *//* empty css                         *//* empty css                         */import{c as ee,a as te}from"./module-29351851.js";/* empty css                   */const V=i=>(P("data-v-c82d4bd3"),i=i(),Q(),i),oe=V(()=>a("div",{class:"text-page-title mb-[20px]"},"历史版本",-1)),ae={class:"time-dialog h-[500px]",style:{overflow:"auto"}},se={class:"relative"},le={class:"text-[#333333] text-[14px] absolute"},ne=V(()=>a("br",null,null,-1)),re={class:"text-[#999999] text-[14px] w-[78px] block mt-[10px] absolute text-right"},ie={class:"text-[#333] text-[14px]"},pe={key:0,class:"px-[20px] py-[20px] bg-overlay timeline-log-wrap whitespace-pre-wrap rounded-[4px]",style:{background:"rgba(25, 103, 249, 0.03)"}},ce=["innerHTML"],de=N({__name:"index",props:{upgradeKey:{type:String,required:!0}},setup(i,{expose:k}){const h=i,n=d([]);D(()=>n.value.length?n.value[0]:null);const E=()=>{ee({app_key:h.upgradeKey}).then(({data:t})=>{if(p.value=!1,t.forEach((e,s)=>{s==0?e.important=1:e.important=0}),n.value=t,n.value.length==0){R.warning("暂无版本更新信息");return}else c.value=!0})},L=()=>{te().then(({data:t})=>{p.value=!1,t.forEach((e,s)=>{s==0?e.important=1:e.important=0}),n.value=t,c.value=!0})},u=d(0),p=d(!0),c=d(!1),S=async()=>{q(()=>{u.value=0,h.upgradeKey?E():L()})},y=t=>{const[e,s]=t.split(" "),[m,v]=s.split(":");return[e,`${m}:${v}`]};return k({open:S}),(t,e)=>{const s=J,m=X,v=Y,C=Z,F=j,I=z,T=G,B=O;return r(),g(T,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=l=>c.value=l),title:A(H)("gxx"),width:"850","destroy-on-close":!0},{default:o(()=>[_(I,{class:"box-card !border-none",shadow:"never"},{default:o(()=>[K((r(),x("div",null,[oe,a("div",ae,[_(F,null,{default:o(()=>[p.value?w("",!0):(r(),g(C,{key:0,style:{width:"100%"}},{default:o(()=>[(r(!0),x(U,null,$(n.value,(l,b)=>(r(),g(v,{key:b,placement:"left",color:t.color},{default:o(()=>[a("div",se,[a("span",le,f(y(l.release_time)[0]),1),ne,a("span",re,f(y(l.release_time)[1]),1)]),_(m,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=M=>u.value=M),accordion:""},{default:o(()=>[_(s,{name:b},{title:o(()=>[a("span",ie," v"+f(l.version_no),1)]),default:o(()=>[l.upgrade_log?(r(),x("div",pe,[a("div",{innerHTML:l.upgrade_log},null,8,ce)])):w("",!0)]),_:2},1032,["name"])]),_:2},1032,["modelValue"])]),_:2},1032,["color"]))),128))]),_:1}))]),_:1})])])),[[B,p.value]])]),_:1})]),_:1},8,["modelValue","title"])}}});const we=W(de,[["__scopeId","data-v-c82d4bd3"]]);export{we as default};
