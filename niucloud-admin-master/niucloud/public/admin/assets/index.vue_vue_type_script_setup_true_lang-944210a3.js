import{d as y,r as k,X as v,f as B,h as C,m as V,w as l,a as u,e as d,i as f,t as p,u as o,k as r,aY as E,Y as D,E as P,S as N}from"./index-9f163f98.js";/* empty css                  *//* empty css                   *//* empty css                  */import{A as S,B as T}from"./sys-135535fa.js";const b={class:"dialog-footer"},M=y({__name:"index",props:{show:{type:Boolean,default:!1},type:{type:String,default:""},searchParam:{type:Object,default:()=>({})}},emits:["update:show","close"],setup(m,{emit:n}){const e=m,t=k(!1),c=v({get(){return e.show},set(s){n("update:show",s)}}),h=B(),_=()=>{t.value=!0;const s=h.resolve({path:"/admin/setting/export"});S(e.type,{page:1,limit:1,...e.searchParam}).then(a=>{a.data?T(e.type,e.searchParam).then(()=>{t.value=!1,n("close",!1),setTimeout(()=>{window.open(s.href)},100)}):(t.value=!1,D.error(a.msg))}).catch(()=>{t.value=!1})},g=()=>{n("close",!1)};return(s,a)=>{const i=P,x=N;return C(),V(x,{modelValue:o(c),"onUpdate:modelValue":a[0]||(a[0]=w=>E(c)?c.value=w:null),title:o(r)("exportTip"),width:"300px","close-on-click-modal":!0,"close-on-press-escape":!1,"show-close":!1},{footer:l(()=>[u("span",b,[d(i,{onClick:g},{default:l(()=>[f(p(o(r)("cancel")),1)]),_:1}),d(i,{type:"primary",onClick:_,loading:t.value},{default:l(()=>[f(p(o(r)("exportConfirm")),1)]),_:1},8,["loading"])])]),default:l(()=>[u("span",null,p(o(r)("exportPlaceholder")),1)]),_:1},8,["modelValue","title"])}}});export{M as _};
