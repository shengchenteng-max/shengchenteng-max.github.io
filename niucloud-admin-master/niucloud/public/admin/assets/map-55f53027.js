import{d as E,r as u,l as T,X as F,k as t,h as v,c as C,e as i,w as m,a as n,t as c,u as o,J as D,m as N,i as B,D as M,G as S,aA as q,H as I,L as R,E as U,M as K,_ as L}from"./index-9f163f98.js";/* empty css                   *//* empty css                  *//* empty css                *//* empty css                *//* empty css                  */import"./el-form-item-4ed993c7.js";/* empty css                 */import{X,Y as $}from"./sys-135535fa.js";const j={class:"main-container"},A={class:"flex justify-between items-center"},G={class:"text-page-title"},H={class:"ml-[10px]"},J={class:"ml-[150px] text-sm text-gray-400"},O={class:"fixed-footer-wrap"},P={class:"fixed-footer"},Y=E({__name:"map",setup(Z){const s=u(!0),_=u(),a=T({key:"",is_open:0,valid_time:0}),f=F(()=>({valid_time:[{required:!0,trigger:"blur",validator:(l,e,r)=>{e===""?r(new Error(t("validTimePlaceholder"))):isNaN(e)||!/^\d{0,10}$/.test(e)?r(new Error(t("validTimeFormatTips"))):e<5?r(new Error(t("validTimeNotZeroTips"))):r()}}]}));(async()=>{s.value=!0;const l=await(await X()).data;a.key=l.key,a.is_open=l.is_open,a.valid_time=l.valid_time,s.value=!1})();const w=async l=>{s.value||!l||await l.validate(async e=>{e&&(s.value=!0,$(a).then(()=>{s.value=!1}).catch(()=>{s.value=!1}))})},y=()=>{window.open("https://www.kancloud.cn/niucloud/niucloud-admin-develop/3214217")},x=()=>{window.open("https://lbs.qq.com/dev/console/key/manage")};return(l,e)=>{const r=M,p=S,b=q,g=I,k=R,h=U,V=K;return v(),C("div",j,[i(k,{class:"box-card !border-none",shadow:"never"},{default:m(()=>[n("div",A,[n("span",G,c(o(t)("mapSetting")),1)]),D((v(),N(g,{class:"page-form mt-[20px]",model:a,rules:o(f),"label-width":"150px",ref_key:"formRef",ref:_},{default:m(()=>[i(p,{label:o(t)("mapKey"),prop:"key"},{default:m(()=>[i(r,{modelValue:a.key,"onUpdate:modelValue":e[0]||(e[0]=d=>a.key=d),modelModifiers:{trim:!0},class:"input-width",clearable:""},null,8,["modelValue"]),n("span",{class:"ml-2 cursor-pointer tutorial-btn",onClick:y},c(o(t)("clickTutorial")),1),n("span",{class:"ml-2 cursor-pointer secret-btn",onClick:x},c(o(t)("clickSecretKey")),1)]),_:1},8,["label"]),i(p,{label:o(t)("isOpen"),prop:"is_open"},{default:m(()=>[i(b,{modelValue:a.is_open,"onUpdate:modelValue":e[1]||(e[1]=d=>a.is_open=d),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1},8,["label"]),i(p,{label:o(t)("validTime"),prop:"valid_time"},{default:m(()=>[i(r,{modelValue:a.valid_time,"onUpdate:modelValue":e[2]||(e[2]=d=>a.valid_time=d),modelModifiers:{trim:!0},class:"!w-[120px]"},null,8,["modelValue"]),n("span",H,c(o(t)("minutes")),1)]),_:1},8,["label"]),n("div",J,c(o(t)("validTimeTips")),1)]),_:1},8,["model","rules"])),[[V,s.value]])]),_:1}),n("div",O,[n("div",P,[i(h,{type:"primary",loading:s.value,onClick:e[3]||(e[3]=d=>w(_.value))},{default:m(()=>[B(c(o(t)("save")),1)]),_:1},8,["loading"])])])])}}});const ne=L(Y,[["__scopeId","data-v-57b50417"]]);export{ne as default};
