import{d as N,j as K,bh as R,X as y,r as S,al as $,u as a,h as t,c,m,w as k,B as l,a as h,t as p,F as _,T as j,f as F,bY as I,bZ as V,v as q,aB as A}from"./index-9f163f98.js";import"./el-sub-menu-4ed993c7.js";import{_ as D}from"./index.vue_vue_type_script_setup_true_lang-b29ac1a4.js";const L={key:0,class:"w-[16px] h-[16px] relative flex items-center"},O={class:"ml-[10px]"},T={key:0,class:"w-[16px] h-[16px] relative flex items-center"},U={class:"ml-[10px]"},X={key:0,class:"w-[16px] h-[16px] relative flex items-center"},Y={class:"ml-[10px]"},Z={key:2,class:"!border-0 !border-t-[1px] border-solid mx-[25px] bg-[#f7f7f7] my-[5px]"},w=N({__name:"menu-item",props:{routes:{type:Object,required:!0},level:{type:Number,default:1}},setup(o){const d=o,b=F(),r=q(),B=K().routers,u=R(),n=y(()=>d.routes.meta);y(()=>{const e={};return u==null||u.apps.forEach(s=>{e[s.key]=s}),u==null||u.addons.forEach(s=>{e[s.key]=s}),e});const E=y(()=>u==null?void 0:u.addons.map(e=>e.key)),v={};B.forEach(e=>{e.original_name=e.name,e.meta.addon&&(v[e.meta.addon]=e),e.meta.attr&&(v[e.meta.attr]=e)});const i=S(null);return $(r,()=>{var f;d.routes.name=="addon_list"&&(E.value.includes(r.meta.addon)&&v[r.meta.addon]?i.value=v[r.meta.addon]:r.meta.attr&&v[r.meta.attr]?i.value=v[r.meta.attr]:i.value=null);const e=A.get("defaultMarketingKeys"),s=(f=r.matched[1])==null?void 0:f.name;d.routes.name=="marketing_list"&&(e&&e.includes(s)?(i.value=r.matched[1]??[],i.value.meta.show=1):i.value=null)},{immediate:!0}),(e,s)=>{const f=D,C=I,g=V;return a(n).show?(t(),c(_,{key:0},[o.routes.children?(t(),m(C,{key:0,index:String(o.routes.name)},{title:k(()=>[d.level==1?(t(),c("div",L,[a(n).icon?(t(),m(f,{key:0,name:a(n).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",O,p(a(n).title),1)]),default:k(()=>[(t(!0),c(_,null,j(o.routes.children,(x,M)=>(t(),m(w,{routes:x,key:M,level:d.level+1},null,8,["routes","level"]))),128)),o.routes.name=="addon_list"||o.routes.name=="marketing_list"?(t(),c(_,{key:0},[i.value?(t(),m(w,{routes:i.value,key:e.index,level:d.level+1},null,8,["routes","level"])):l("",!0)],64)):l("",!0)]),_:1},8,["index"])):(t(),c(_,{key:1},[a(n).addon&&a(n).parent_route&&a(n).parent_route.addon==""?(t(),m(g,{key:0,index:String(o.routes.name),onClick:s[0]||(s[0]=x=>a(b).push({name:o.routes.name}))},{title:k(()=>[d.level==1?(t(),c("div",T,[a(n).icon?(t(),m(f,{key:0,name:a(n).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",U,p(a(n).title),1)]),_:1},8,["index"])):(t(),m(g,{key:1,index:String(o.routes.name),onClick:s[1]||(s[1]=x=>a(b).push({name:o.routes.name}))},{title:k(()=>[d.level==1?(t(),c("div",X,[a(n).icon?(t(),m(f,{key:0,name:a(n).icon,class:"absolute !w-auto"},null,8,["name"])):l("",!0)])):l("",!0),h("span",Y,p(a(n).title),1)]),_:1},8,["index"]))],64)),o.routes.is_border?(t(),c("div",Z)):l("",!0)],64)):l("",!0)}}});export{w as _};
