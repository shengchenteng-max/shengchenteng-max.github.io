import{d as B,f as E,v as C,r as h,as as I,bI as N,h as n,c as R,e as s,w as a,u as r,ay as S,m as _,i as y,t as k,k as v,az as $,L as q,E as H,a_ as P}from"./index-9f163f98.js";/* empty css                  *//* empty css                  *//* empty css                *//* empty css                       */import{H as V}from"./notice-730edd18.js";const z={class:"main-container"},A=B({__name:"sms_niu_pay_result",setup(D){const b=E(),c=C(),x=c.meta.title,g=c.query.username||"",l=()=>{b.push("/setting/niusms/setting")},u=h("wait");let o=null;I(()=>{const t=c.query.out_trade_no;t&&(d(t),o=setInterval(()=>{d(t)},2e3))}),N(()=>{o&&clearInterval(o)});const d=async t=>{try{const e=await V(g,{out_trade_no:t});u.value=e.data.order_status,(e.data.order_status==="payment"||e.data.order_status==="close")&&o&&clearInterval(o)}catch(e){console.error("获取支付状态失败",e)}};return(t,e)=>{const w=$,m=q,p=H,i=P;return n(),R("div",z,[s(m,{class:"box-card !border-none mb-[15px]",shadow:"never"},{default:a(()=>[s(w,{content:r(x),icon:r(S),onBack:e[0]||(e[0]=f=>l())},null,8,["content","icon"])]),_:1}),s(m,{class:"box-card !border-none mb-[15px]",shadow:"never"},{default:a(()=>[u.value==="payment"?(n(),_(i,{key:0,icon:"success",title:"支付成功"},{extra:a(()=>[s(p,{type:"primary",onClick:e[1]||(e[1]=f=>l())},{default:a(()=>[y(k(r(v)("back")),1)]),_:1})]),_:1})):u.value==="close"?(n(),_(i,{key:1,icon:"error",title:"订单已关闭"},{extra:a(()=>[s(p,{type:"primary",onClick:e[2]||(e[2]=f=>l())},{default:a(()=>[y(k(r(v)("back")),1)]),_:1})]),_:1})):(n(),_(i,{key:2,icon:"info",title:"支付状态查询中","sub-title":"请稍候，正在确认支付状态..."}))]),_:1})])}}});export{A as default};
