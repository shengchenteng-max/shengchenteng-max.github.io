import{E as B,__tla as D}from"./el-input.f84bdb48.js";import{u as F,E as Q,_ as T,a as A,b as G,__tla as H}from"./index.vue.8384b162.js";import{f as J,R as K,Q as L,C as h,h as _,a2 as M,ap as N,o as O,i as S,j as u,t as g,u as i,m as o,w as s,I as W,aD as X,aE as $,aj as r,__tla as Y}from"./entry.ac74755d.js";import{t as Z}from"./test.b3688895.js";import{_ as ee}from"./_plugin-vue_export-helper.c27b6911.js";import{__tla as ae}from"./index.95b7fbc8.js";import{__tla as le}from"./vnode.290de06f.js";import{__tla as te}from"./debounce.30bd8664.js";let y,oe=Promise.all([(()=>{try{return D}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return Y}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return le}catch{}})(),(()=>{try{return te}catch{}})()]).then(async()=>{const v={class:"w-full h-full bg-page flex items-center justify-center"},x={class:"flex bg-white"},k={class:"bg-white w-[380px] p-[30px]"},V={class:"flex items-end mb-[30px] mt-[15px]"},w={class:"mr-[20px] text-base cursor-pointer leading-none font-bold"},P=J({__name:"bind",setup(re){let C=K();const p=L(),E=h(()=>p.info),n=_(!1),l=M({mobile:"",mobile_code:"",mobile_key:"",openid:N("openId").value}),j=h(()=>({mobile:[{type:"string",required:!0,message:r("mobilePlaceholder"),trigger:["blur","change"]},{validator(e,a,m){return Z.mobile(a)},message:r("mobileError"),trigger:["change","blur"]}],mobile_code:{type:"string",required:!0,message:r("codePlaceholder"),trigger:["blur","change"]}})),c=_(),I=async()=>{var e;await((e=c.value)==null?void 0:e.validate(async(a,m)=>{if(a){if(n.value)return;n.value=!0,(E.value?X:$)(l).then(t=>{p.setToken(t.data.token),C.push({path:"/"})}).catch(()=>{n.value=!1,f.refresh()})}}))},f=F(l);f.refresh();const b=_(null),R=async()=>{var e;await((e=c.value)==null?void 0:e.validateField("mobile",async(a,m)=>{var t;a&&((t=b.value)==null||t.send())}))};return(e,a)=>{const m=B,t=Q,U=T,q=A,z=G;return O(),S("div",v,[u("div",x,[u("div",k,[u("div",V,[u("div",w,g(("t"in e?e.t:i(r))("mobileBind")),1)]),o(z,{model:l,ref_key:"formRef",ref:c,rules:i(j),"validate-on-rule-change":!1},{default:s(()=>[u("div",null,[o(t,{prop:"mobile"},{default:s(()=>[o(m,{modelValue:l.mobile,"onUpdate:modelValue":a[0]||(a[0]=d=>l.mobile=d),placeholder:("t"in e?e.t:i(r))("mobilePlaceholder"),clearable:""},null,8,["modelValue","placeholder"])]),_:1}),o(t,{prop:"mobile_code"},{default:s(()=>[o(m,{modelValue:l.mobile_code,"onUpdate:modelValue":a[2]||(a[2]=d=>l.mobile_code=d),placeholder:("t"in e?e.t:i(r))("codePlaceholder")},{suffix:s(()=>[o(U,{mobile:l.mobile,type:"login",modelValue:l.mobile_key,"onUpdate:modelValue":a[1]||(a[1]=d=>l.mobile_key=d),onClick:R,ref_key:"smsCodeRef",ref:b},null,8,["mobile","modelValue"])]),_:1},8,["modelValue","placeholder"])]),_:1})]),o(t,null,{default:s(()=>[o(q,{type:"primary",class:"mt-[20px] w-full",size:"large",onClick:I,loading:n.value},{default:s(()=>[W(g(n.value?("t"in e?e.t:i(r))("binding"):("t"in e?e.t:i(r))("bind")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])])}}});y=ee(P,[["__scopeId","data-v-ff2a5354"]])});export{oe as __tla,y as default};
