import{ar as y,d as S,v as B,r as v,l as D,ax as F,al as I,Y as g,k as a,h as R,c as j,e as n,w as l,a as r,t as u,u as i,i as M,aA as O,G as P,D as U,H as $,L as A,E as G,_ as H}from"./index-9f163f98.js";/* empty css                  *//* empty css                *//* empty css                *//* empty css                 */import"./el-form-item-4ed993c7.js";/* empty css                  */import{r as L}from"./sys-135535fa.js";function T(){return y.get("channel/pc/config")}function Y(_){return y.put("channel/pc/config",_,{showSuccessMessage:!0})}const z={class:"main-container"},J={class:"flex justify-between items-center"},K={class:"text-page-title"},Q={class:"fixed-footer-wrap"},W={class:"fixed-footer"},X=S({__name:"config",setup(_){const w=B().meta.title,o=v(!0),e=D({is_open:!1,request_url:""}),d=v();L().then(t=>{e.request_url=t.data.web_url+"/",o.value=!1}),T().then(t=>{Object.assign(e,t.data),e.is_open=Boolean(Number(e.is_open)),o.value=!1});const{copy:b,isSupported:h,copied:m}=F(),x=t=>{if(!h.value){g({message:a("notSupportCopy"),type:"warning"});return}b(t)};I(m,()=>{m.value&&g({message:a("copySuccess"),type:"success"})});const C=()=>{window.open(e.request_url)},E=async t=>{o.value||!t||await t.validate(async s=>{if(s){o.value=!0;const c={...e};c.is_open=Number(c.is_open),Y(c).then(()=>{o.value=!1}).catch(()=>{o.value=!1})}})};return(t,s)=>{const c=O,f=P,k=U,N=$,V=A,q=G;return R(),j("div",z,[n(V,{class:"box-card !border-none",shadow:"never"},{default:l(()=>[r("div",J,[r("span",K,u(i(w)),1)]),n(N,{class:"page-form mt-[20px]",model:e,"label-width":"150px",ref_key:"formRef",ref:d},{default:l(()=>[n(f,{label:i(a)("isOpen")},{default:l(()=>[n(c,{modelValue:e.is_open,"onUpdate:modelValue":s[0]||(s[0]=p=>e.is_open=p)},null,8,["modelValue"])]),_:1},8,["label"]),n(f,{label:i(a)("pCDomainName")},{default:l(()=>[n(k,{"model-value":e.request_url,class:"input-width",readonly:!0},{append:l(()=>[r("div",{class:"cursor-pointer",onClick:s[1]||(s[1]=p=>x(e.request_url))},u(i(a)("copy")),1)]),_:1},8,["model-value"]),r("span",{class:"ml-2 cursor-pointer visit-btn",onClick:C},u(i(a)("clickVisit")),1)]),_:1},8,["label"])]),_:1},8,["model"])]),_:1}),r("div",Q,[r("div",W,[n(q,{type:"primary",loading:o.value,onClick:s[2]||(s[2]=p=>E(d.value))},{default:l(()=>[M(u(i(a)("save")),1)]),_:1},8,["loading"])])])])}}});const ie=H(X,[["__scopeId","data-v-2f7e1e13"]]);export{ie as default};
