import{d as h,r as n,l as y,X as w,al as i,h as E,m as N,w as d,e as u,a as r,ap as j,D as k,G as B,H as C}from"./index-9f163f98.js";/* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                 *//* empty css                    */const O=r("span",{class:"ml-[10px] el-form-item__label"},"送",-1),R={class:"w-[70px]"},$=r("span",{class:"ml-[15px] el-form-item__label"},"积分",-1),G=h({__name:"gift-point",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(p,{expose:_,emit:f}){const c=p,l=n({is_use:0,num:""}),m=n(null),v={required:/[\S]+/,number:/^\d{0,10}$/,digit:/^\d{0,10}(.?\d{0,2})$/,special:/^\d{0,10}(.?\d{0,3})$/},b=y({num:[{validator:(s,e,t)=>{l.value.is_use?e.length==0?t("请输入积分数量"):isNaN(e)||!v.number.test(e)?t("积分数量格式错误"):e<=0?t("积分数量不能小于等于0"):t():t()},trigger:"blur"}]}),a=w({get(){return c.modelValue},set(s){f("update:modelValue",s)}});return i(()=>a.value,(s,e)=>{(!e||!Object.keys(e).length)&&Object.keys(s).length&&(l.value=a.value)},{immediate:!0}),i(()=>l.value,()=>{a.value=l.value},{deep:!0}),_({verify:async()=>{var e;let s=!0;return await((e=m.value)==null?void 0:e.validate(t=>{s=t})),s}}),(s,e)=>{const t=j,V=k,g=B,x=C;return E(),N(x,{ref_key:"formRef",ref:m,model:l.value,rules:b},{default:d(()=>[u(g,{label:"",prop:"num"},{default:d(()=>[u(t,{modelValue:l.value.is_use,"onUpdate:modelValue":e[0]||(e[0]=o=>l.value.is_use=o),"true-label":1,"false-label":0,label:"",size:"large"},null,8,["modelValue"]),O,r("div",R,[u(V,{modelValue:l.value.num,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.num=o),modelModifiers:{trim:!0},clearable:"",disabled:l.value.is_use==0},null,8,["modelValue","disabled"])]),$]),_:1})]),_:1},8,["model","rules"])}}});export{G as default};
