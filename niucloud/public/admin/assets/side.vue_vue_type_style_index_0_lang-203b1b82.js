import{d as j,bh as I,j as R,r as m,as as V,bs as g,h as s,m as x,w as l,e as i,u as _,c as o,F as k,z as F,B as N,T as K,a as y,v as W,W as q,aB as z,be as D,bS as H,a2 as L,I as S,y as T}from"./index-9f163f98.js";/* empty css                     *//* empty css                */import"./el-tooltip-4ed993c7.js";/* empty css                  */import{_ as U}from"./icon-addon-one-638e965c.js";import{_ as $}from"./menu-item.vue_vue_type_style_index_0_lang-700b4ac7.js";import{a as A}from"./sys-135535fa.js";const G={key:0,class:"logo flex items-center justify-center m-auto w-full h-[64px]"},J=["src"],O={key:1,class:"max-h-[40px] max-w-[70%]",src:U,alt:""},P={key:1,class:"logo flex items-center justify-center h-[64px]"},Q=y("i",{class:"text-3xl iconfont iconyunkongjian"},null,-1),X=[Q],Y=y("div",{class:"h-[48px]"},null,-1),ce=j({__name:"side",setup(Z){const n=I(),h=R(),v=W(),r=m(null),w=h.routers,E=h.addonIndexRoute,t=m([]),c={},b=async()=>{var u,d;const a=(await q()).data,p=((d=(u=a==null?void 0:a.marketing)==null?void 0:u.list)==null?void 0:d.map(f=>f.key))??[];z.set({key:"defaultMarketingKeys",data:p})};if(V(()=>{A().then(({data:e})=>{r.value=e}),b()}),w.forEach(e=>{e.original_name=e.name,e.meta.addon==""?e.meta.attr==""&&e.name!="sign"&&e.name!="verify"&&(e.children&&e.children.length&&(e.name=g(e.children)),t.value.push(e)):e.meta.addon!=""&&(n==null?void 0:n.apps.length)==1&&(n==null?void 0:n.apps[0].key)==e.meta.addon&&e.meta.show?e.children?(e.children.forEach(a=>{a.original_name=a.name,a.children&&a.children.length&&(a.name=g(a.children))}),t.value.unshift(...e.children)):t.value.unshift(e):c[e.meta.addon]=e}),(n==null?void 0:n.apps.length)>1){const e=[];n==null||n.apps.forEach(a=>{c[a.key]&&(c[a.key].name=E[a.key],e.push(c[a.key]))}),t.value.unshift(...e)}return(e,a)=>{const p=D,u=H,d=L,f=S,C=T;return s(),x(C,{class:"w-[200px] h-screen layout-aside flex flex-col"},{default:l(()=>[i(p,{class:"logo-wrap flex items-center justify-center h-[64px]"},{default:l(()=>[_(n).menuIsCollapse?(s(),o("div",P,X)):(s(),o("div",G,[r.value?(s(),o(k,{key:0},[r.value.logo?(s(),o("img",{key:0,class:"max-h-[40px] max-w-[70%]",src:_(F)(r.value.logo),alt:""},null,8,J)):(s(),o("img",O))],64)):N("",!0)]))]),_:1}),i(f,{class:"menu-wrap"},{default:l(()=>[i(d,null,{default:l(()=>[i(u,{"default-active":_(v).name,router:!0,class:"aside-menu h-full","unique-opened":!0,collapse:_(n).menuIsCollapse},{default:l(()=>[(s(!0),o(k,null,K(t.value,(B,M)=>(s(),x($,{routes:B,key:M},null,8,["routes"]))),128))]),_:1},8,["default-active","collapse"]),Y]),_:1})]),_:1})]),_:1})}}});export{ce as _};
