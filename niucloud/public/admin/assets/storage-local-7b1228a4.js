import{d as S,r as f,l as B,X as C,h as y,m as D,w as a,a as N,e as n,i as d,t as c,u as s,k as i,J as U,af as h,ag as j,G,H as I,E as M,S as O,M as $}from"./index-9f163f98.js";/* empty css                   *//* empty css                  *//* empty css                   *//* empty css                  *//* empty css                */import"./el-form-item-4ed993c7.js";/* empty css                       *//* empty css                 */import{M as H,N as J}from"./sys-135535fa.js";const L={class:"dialog-footer"},ae=S({__name:"storage-local",emits:["complete"],setup(T,{expose:V,emit:b}){const u=f(!1),t=f(!0),p={is_use:"",storage_type:""},o=B({...p}),_=f(),w=C(()=>({})),E=async r=>{t.value||!r||await r.validate(async e=>{e&&(t.value=!0,H(o).then(g=>{t.value=!1,u.value=!1,b("complete")}).catch(()=>{t.value=!1}))})};return V({showDialog:u,setFormData:async(r=null)=>{if(t.value=!0,Object.assign(o,p),r){const e=await(await J(r.storage_type)).data;Object.keys(o).forEach(l=>{e[l]!=null&&(o[l]=e[l])})}t.value=!1}}),(r,e)=>{const l=h,g=j,x=G,k=I,v=M,F=O,R=$;return y(),D(F,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=m=>u.value=m),title:s(i)("localStorage"),width:"580px","destroy-on-close":!0},{footer:a(()=>[N("span",L,[n(v,{onClick:e[1]||(e[1]=m=>u.value=!1)},{default:a(()=>[d(c(s(i)("cancel")),1)]),_:1}),n(v,{type:"primary",loading:t.value,onClick:e[2]||(e[2]=m=>E(_.value))},{default:a(()=>[d(c(s(i)("confirm")),1)]),_:1},8,["loading"])])]),default:a(()=>[U((y(),D(k,{model:o,"label-width":"140px",ref_key:"formRef",ref:_,rules:s(w),class:"page-form"},{default:a(()=>[n(x,{label:s(i)("isUse")},{default:a(()=>[n(g,{modelValue:o.is_use,"onUpdate:modelValue":e[0]||(e[0]=m=>o.is_use=m)},{default:a(()=>[n(l,{label:"1"},{default:a(()=>[d(c(s(i)("startUsing")),1)]),_:1}),n(l,{label:"0"},{default:a(()=>[d(c(s(i)("statusDeactivate")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model","rules"])),[[R,t.value]])]),_:1},8,["modelValue","title"])}}});export{ae as default};
